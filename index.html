<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.6">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="de"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1">&lt;meta charset="UTF-8"&gt;</p>
<p class="p1">&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p>
<p class="p1">&lt;title&gt;Psychedelic Video Generator&lt;/title&gt;</p>
<p class="p1">&lt;style&gt;</p>
<p class="p1">body {</p>
<p class="p1"><span class="Apple-converted-space">  </span>margin:0;</p>
<p class="p1"><span class="Apple-converted-space">  </span>font-family:'Segoe UI', sans-serif;</p>
<p class="p1"><span class="Apple-converted-space">  </span>background-color:#111;</p>
<p class="p1"><span class="Apple-converted-space">  </span>color:#eee;</p>
<p class="p1"><span class="Apple-converted-space">  </span>display:flex;</p>
<p class="p1"><span class="Apple-converted-space">  </span>height:100vh;</p>
<p class="p1">}</p>
<p class="p1">.container {display:flex;flex:1;overflow:hidden;}</p>
<p class="p1">.sidebar {</p>
<p class="p1"><span class="Apple-converted-space">  </span>width:300px;</p>
<p class="p1"><span class="Apple-converted-space">  </span>background-color:rgba(28,28,28,0.95);</p>
<p class="p1"><span class="Apple-converted-space">  </span>padding:20px;box-sizing:border-box;overflow-y:auto;</p>
<p class="p1"><span class="Apple-converted-space">  </span>box-shadow:0 0 20px rgba(0,0,0,0.5);border-radius:10px 0 0 10px;</p>
<p class="p1">}</p>
<p class="p1">h2{margin-top:0;font-size:1.2em;color:#ff66cc;}</p>
<p class="p1">.section{margin-bottom:20px;}</p>
<p class="p1">label{display:flex;align-items:center;margin-bottom:8px;cursor:pointer;}</p>
<p class="p1">input[type="checkbox"]{margin-right:10px;}</p>
<p class="p1">.slider-container{display:flex;align-items:center;margin-bottom:10px;}</p>
<p class="p1">.slider-container input[type="range"]{flex:1;margin-left:10px;}</p>
<p class="p1">.color-picker{display:flex;align-items:center;margin-bottom:10px;}</p>
<p class="p1">canvas{flex:1;display:block;background-color:#000;}</p>
<p class="p1">button{</p>
<p class="p1"><span class="Apple-converted-space">  </span>background-color:#ff66cc;border:none;padding:10px 15px;color:#111;</p>
<p class="p1"><span class="Apple-converted-space">  </span>cursor:pointer;margin-right:10px;margin-top:5px;border-radius:6px;</p>
<p class="p1"><span class="Apple-converted-space">  </span>font-weight:bold;transition:all 0.2s ease;</p>
<p class="p1">}</p>
<p class="p1">button:hover{transform:scale(1.05);box-shadow:0 0 10px #ff66cc;}</p>
<p class="p1">input[type="number"]{width:60px;margin-left:10px;border-radius:4px;border:none;padding:3px;}</p>
<p class="p1">&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p1">&lt;div class="container"&gt;</p>
<p class="p1">&lt;div class="sidebar"&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div class="section"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;h2&gt;Fraktale&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;label&gt;&lt;input type="checkbox" class="fractal" value="mandelbrot"&gt;Mandelbrot&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;label&gt;&lt;input type="checkbox" class="fractal" value="julia"&gt;Julia&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;label&gt;&lt;input type="checkbox" class="fractal" value="kaleidoskop"&gt;Kaleidoskop&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;label&gt;&lt;input type="checkbox" class="fractal" value="sierpinski"&gt;Sierpinski-Dreieck&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;label&gt;&lt;input type="checkbox" class="fractal" value="koch"&gt;Koch-Kurve&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="slider-container"&gt;&lt;span&gt;Anzahl Wiederholungen:&lt;/span&gt;&lt;input type="range" id="repeats" min="1" max="20" value="5"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="slider-container"&gt;&lt;span&gt;Wechselgeschwindigkeit:&lt;/span&gt;&lt;input type="range" id="speed" min="1" max="10" value="5"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="slider-container"&gt;&lt;span&gt;Größe:&lt;/span&gt;&lt;input type="range" id="size" min="0.5" max="5" step="0.1" value="1"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div class="section"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;h2&gt;Effekte&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="color-picker"&gt;&lt;label&gt;Primärfarbe: &lt;input type="color" id="primaryColor" value="#ff66cc"&gt;&lt;/label&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="color-picker"&gt;&lt;label&gt;Sekundärfarbe: &lt;input type="color" id="secondaryColor" value="#66ccff"&gt;&lt;/label&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="slider-container"&gt;&lt;span&gt;Farbsättigung:&lt;/span&gt;&lt;input type="range" id="saturation" min="0" max="100" value="50"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="slider-container"&gt;&lt;span&gt;Helligkeit:&lt;/span&gt;&lt;input type="range" id="brightness" min="0" max="100" value="50"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="slider-container"&gt;&lt;span&gt;Kontrast:&lt;/span&gt;&lt;input type="range" id="contrast" min="0" max="100" value="50"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="slider-container"&gt;&lt;span&gt;Rauschen:&lt;/span&gt;&lt;input type="range" id="noise" min="0" max="100" value="20"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="slider-container"&gt;&lt;span&gt;Struktur:&lt;/span&gt;&lt;input type="range" id="structure" min="0" max="100" value="20"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="slider-container"&gt;&lt;span&gt;Blur:&lt;/span&gt;&lt;input type="range" id="blur" min="0" max="10" value="0"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div class="section"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;h2&gt;Export / Speicher&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;label&gt;Videozeit (Sekunden): &lt;input type="number" id="videoLength" value="10"&gt;&lt;/label&gt;&lt;br&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;button id="exportVideo"&gt;Video exportieren&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;button id="saveSettings"&gt;Speichern&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;button id="loadSettings"&gt;Laden&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</p>
<p class="p1">&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;canvas id="psyCanvas"&gt;&lt;/canvas&gt;</p>
<p class="p1">&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;script&gt;</p>
<p class="p1">// Canvas Setup</p>
<p class="p1">const canvas=document.getElementById('psyCanvas');</p>
<p class="p1">const ctx=canvas.getContext('2d');</p>
<p class="p1">function resizeCanvas(){canvas.width=window.innerWidth-300;canvas.height=window.innerHeight;}</p>
<p class="p1">window.addEventListener('resize',resizeCanvas);</p>
<p class="p1">resizeCanvas();</p>
<p class="p2"><br></p>
<p class="p1">// UI</p>
<p class="p1">const fractalCheckboxes=document.querySelectorAll('.fractal');</p>
<p class="p1">const repeats=document.getElementById('repeats');</p>
<p class="p1">const speed=document.getElementById('speed');</p>
<p class="p1">const sizeSlider=document.getElementById('size');</p>
<p class="p1">const primaryColor=document.getElementById('primaryColor');</p>
<p class="p1">const secondaryColor=document.getElementById('secondaryColor');</p>
<p class="p1">const saturation=document.getElementById('saturation');</p>
<p class="p1">const brightness=document.getElementById('brightness');</p>
<p class="p1">const contrast=document.getElementById('contrast');</p>
<p class="p1">const noise=document.getElementById('noise');</p>
<p class="p1">const structure=document.getElementById('structure');</p>
<p class="p1">const blur=document.getElementById('blur');</p>
<p class="p2"><br></p>
<p class="p1">let time=0;</p>
<p class="p2"><br></p>
<p class="p1">// Fraktale Funktionen</p>
<p class="p1">function mandelbrot(cx,cy,maxIter){let x=0,y=0,i=0;while(x*x+y*y&lt;=4&amp;&amp;i&lt;maxIter){let xt=x*x-y*y+cx;y=2*x*y+cy;x=xt;i++;}return i;}</p>
<p class="p1">function julia(x,y,cr,ci,maxIter){let i=0;while(x*x+y*y&lt;=4&amp;&amp;i&lt;maxIter){let xt=x*x-y*y+cr;y=2*x*y+ci;x=xt;i++;}return i;}</p>
<p class="p1">function hexToRgb(hex){const bigint=parseInt(hex.slice(1),16);return {r:(bigint&gt;&gt;16)&amp;255,g:(bigint&gt;&gt;8)&amp;255,b:bigint&amp;255};}</p>
<p class="p1">function clamp(v,min,max){return Math.min(Math.max(v,min),max);}</p>
<p class="p2"><br></p>
<p class="p1">// Main Draw Loop</p>
<p class="p1">function draw(){</p>
<p class="p1"><span class="Apple-converted-space">  </span>time+=0.01;</p>
<p class="p1"><span class="Apple-converted-space">  </span>const w=canvas.width,h=canvas.height;</p>
<p class="p1"><span class="Apple-converted-space">  </span>const img=ctx.createImageData(w,h);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const data=img.data;</p>
<p class="p1"><span class="Apple-converted-space">  </span>const prim=hexToRgb(primaryColor.value);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>for(let y=0;y&lt;h;y++){</p>
<p class="p1"><span class="Apple-converted-space">    </span>for(let x=0;x&lt;w;x++){</p>
<p class="p1"><span class="Apple-converted-space">      </span>const idx=(y*w+x)*4;</p>
<p class="p1"><span class="Apple-converted-space">      </span>let r=0,g=0,b=0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>if(fractalCheckboxes[0].checked){let mx=3*(x/w-0.5),my=2*(y/h-0.5);let m=mandelbrot(mx,my,50)/50;r+=m*255; g+=Math.sin(m*3.14)*127+128; b+=Math.cos(m*3.14)*127+128;}</p>
<p class="p1"><span class="Apple-converted-space">      </span>if(fractalCheckboxes[1].checked){let jx=3*(x/w-0.5),jy=2*(y/h-0.5);let j=julia(jx,jy,-0.7,0.27015,50)/50;r+=Math.cos(j*3.14)*127+128; g+=j*255; b+=Math.sin(j*3.14)*127+128;}</p>
<p class="p1"><span class="Apple-converted-space">      </span>if(fractalCheckboxes[2].checked){let kx=x-(w/2),ky=y-(h/2);let angle=Math.atan2(ky,kx)*6;let radius=Math.sqrt(kx*kx+ky*ky); r+=Math.sin(radius/50+time+angle)*127+128; g+=Math.cos(radius/50+time+angle)*127+128; b+=Math.sin(radius/30+time+angle)*127+128;}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>const noiseVal=(Math.random()-0.5)*noise.value;</p>
<p class="p1"><span class="Apple-converted-space">      </span>r+=noiseVal; g+=noiseVal; b+=noiseVal;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>data[idx]=clamp(r,0,255);</p>
<p class="p1"><span class="Apple-converted-space">      </span>data[idx+1]=clamp(g,0,255);</p>
<p class="p1"><span class="Apple-converted-space">      </span>data[idx+2]=clamp(b,0,255);</p>
<p class="p1"><span class="Apple-converted-space">      </span>data[idx+3]=255;</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>ctx.putImageData(img,0,0);</p>
<p class="p1"><span class="Apple-converted-space">  </span>requestAnimationFrame(draw);</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">draw();</p>
<p class="p2"><br></p>
<p class="p1">// Dummy Buttons</p>
<p class="p1">document.getElementById('exportVideo').addEventListener('click',()=&gt;alert('Video-Export noch nicht implementiert'));</p>
<p class="p1">document.getElementById('saveSettings').addEventListener('click',()=&gt;alert('Speichern noch nicht implementiert'));</p>
<p class="p1">document.getElementById('loadSettings').addEventListener('click',()=&gt;alert('Laden noch nicht implementiert'));</p>
<p class="p1">&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
